%
% re-define _ to be normal, and to provide a reasonable underscore.
%
\def\makeunderactive{\catcode`\_=\active\relax}
\def\makeunderother{\catcode`\_=12\relax}
\def\makeunderletter{\catcode`\_=11\relax}
\def\makeundernormal{\catcode`\_=8\relax}
\makeunderother
\def\cctwlunder{_}

\newif\ifunderreal
\underrealfalse
\makeunderactive
\def_{\ifunderreal\cctwlunder\else\leavevmode {\tt \cctwlunder}\discretionary{}{}{}\fi}
\let\_=_

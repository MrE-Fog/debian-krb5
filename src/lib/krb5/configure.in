AC_INIT(configure.in)
CONFIG_RULES
AC_PROG_INSTALL
AC_PROG_AWK
dnl
AC_C_CONST
AC_TYPE_UID_T
AC_TYPE_OFF_T
dnl
dnl
AC_MSG_CHECKING(for socklen_t)
AC_CACHE_VAL(krb5_cv_has_type_socklen_t,
[AC_TRY_COMPILE(
[#include <sys/types.h>
#include <sys/socket.h>
],[sizeof (socklen_t);],
krb5_cv_has_type_socklen_t=yes,krb5_cv_has_type_socklen_t=no)])
AC_MSG_RESULT($krb5_cv_has_type_socklen_t)
if test $krb5_cv_has_type_socklen_t = yes; then
    AC_DEFINE(HAVE_SOCKLEN_T)
fi
dnl
dnl
HAS_ANSI_VOLATILE
AC_HEADER_STDARG
AC_CHECK_HEADERS(unistd.h paths.h regex.h regexp.h regexpr.h fcntl.h memory.h ifaddrs.h sys/filio.h)
AC_CHECK_FUNCS(flock fchmod chmod strftime strptime geteuid setenv unsetenv getenv setsid gethostbyname2 getifaddrs)
AC_REPLACE_FUNCS(vfprintf vsprintf strdup strcasecmp strerror memmove daemon getuid sscanf syslog)
KRB5_AC_REGEX_FUNCS
dnl
KRB5_SOCKADDR_SA_LEN
KRB5_BUILD_LIBRARY_WITH_DEPS
KRB5_BUILD_LIBOBJS
KRB5_BUILD_PROGRAM
KRB5_RUN_FLAGS
dnl
K5_GEN_MAKEFILE(., lib libobj)
K5_GEN_MAKEFILE(error_tables, libobj)
K5_GEN_MAKEFILE(asn.1, libobj)
K5_GEN_MAKEFILE(ccache, libobj)
K5_GEN_MAKEFILE(keytab, libobj)
K5_GEN_MAKEFILE(keytab/file, libobj)
K5_GEN_MAKEFILE(keytab/srvtab, libobj)
K5_GEN_MAKEFILE(krb, libobj)
K5_GEN_MAKEFILE(rcache, libobj)
K5_GEN_MAKEFILE(os, libobj)
K5_GEN_MAKEFILE(posix, libobj)
K5_AC_OUTPUT

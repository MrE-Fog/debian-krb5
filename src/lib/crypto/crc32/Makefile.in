CFLAGS = $(CCOPTS) $(DEFS)

##DOSBUILDTOP = ..\..\..
##DOSMYNAME=crc32
##DOSOBJFILE=..\crc32.lst
##WIN16##LIBNAME=..\crypto.lib

STLIBOBJS=crc.o

OBJS=	crc.$(OBJEXT)

SRCS=	$(srcdir)/crc.c

all-windows:: $(OBJFILE)

##DOS$(OBJFILE): $(OBJS)
##DOS	$(RM) $(OBJFILE)
##WIN16##	$(CP) nul: $(OBJFILE)
##WIN32##	$(LIBECHO) -p $(MYNAME)\ *.obj > $(OBJFILE)

all-unix:: all-libobjs

crctest: crctest.$(OBJEXT) $(OBJS)
	$(RM) crctest
	$(CC) -o crctest crctest.$(OBJEXT) $(CFLAGS) $(LDFLAGS) $(OBJS)

crctest.exe:
	$(CC) -o crctest.exe $(CFLAGS2) $(SRCS)

check:: crctest$(EXEEXT)
	$(C)crctest$(EXEEXT) < $(srcdir)$(S)crc-test

clean:: 
	$(RM) crctest$(EXEEXT) crctest.$(OBJEXT)

clean-unix:: clean-libobjs
clean-windows::
	$(RM) $(OBJFILE)

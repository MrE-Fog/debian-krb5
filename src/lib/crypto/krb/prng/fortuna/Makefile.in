mydir=lib$(S)crypto$(S)krb$(S)prng$(S)fortuna
BUILDTOP=$(REL)..$(S)..$(S)..$(S)..$(S)..
LOCALINCLUDES = -I$(srcdir)/.. -I$(srcdir)/../.. \
		-I$(srcdir)/../../../$(CRYPTO_IMPL)		\
		-I$(srcdir)/../../../$(CRYPTO_IMPL)/sha2 	\
		-I$(srcdir)/../../../$(CRYPTO_IMPL)/aes 	\
		-I$(srcdir)/../../../$(CRYPTO_IMPL)/enc_provider
DEFS=
RUN_SETUP = @KRB5_RUN_ENV@
PROG_LIBPATH=-L$(TOPLIBD)
PROG_RPATH=$(KRB5_LIBDIR)

##DOS##BUILDTOP = ..\..\..\..\..
##DOS##PREFIXDIR = krb\prng\fortuna
##DOS##OBJFILE = ..\..\..\$(OUTPRE)fortuna.lst

STLIBOBJS= \
	prng_fortuna.o
OBJS= \
	$(OUTPRE)prng_fortuna.$(OBJEXT)

SRCS=\
	$(srcdir)/prng_fortuna.c 

##DOS##LIBOBJS = $(OBJS)

all-unix:: all-libobjs

includes:: depend

depend:: $(SRCS)

t_fortuna: t_fortuna.$(OBJEXT) $(SUPPORT_DEPLIB)
	$(CC_LINK) -o t_fortuna t_fortuna.$(OBJEXT) -lcom_err $(SUPPORT_LIB) \
		$(CRYPTO_DEPLIB)

check-unix:: t_fortuna
	$(RUN_SETUP) $(VALGRIND) ./t_fortuna >t_fortuna.output
	cmp t_fortuna.output $(srcdir)/t_fortuna.expected

clean::
	$(RM) t_fortuna t_fortuna.$(OBJEXT)

clean-unix:: clean-libobjs

@lib_frag@
@libobj_frag@


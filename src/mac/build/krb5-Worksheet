
#
# Form the krb5.h header file suitable for macintosh
# Fix the directory to point to the include directory
#
directory HardDiskName:FolderNames:k5mac:src:include:
catenate  krb5.hin :krb5:krb5_err.h :krb5:kdb5_err.h :krb5:kv5m_err.h :krb5:asn1_err.h > krb5.h


#
# Ignore for now
# Related to the MPW build
#
# Extracted from old kerberos worksheet
# Just the facts...
# ¥ Makefiles for MPW tools are broken, MPW version 3.4 changed the libraries to link against
# the error table compiler will not be built (.et), the files will be built on the unix side before bringover
# 

alias c MWC68K -w off
alias C C

directory gnu:k5mac:src:lib:

# Clean a directory hierarchy of .o files
directory gnu:k5mac:
echo set exit 0
for i in `files -d -r` ; ¶
	echo delete {i}"Å.o" ; ¶
end
echo set exit 1

#
# copy krb5.hin to krb5.h
#
duplicate gnu:k5mac:src:include:krb5.hin gnu:k5mac:src:include:krb5.h
#krb5-pro.h


#
# Setup some standard defines
#
set krb5macdefines "-model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND"



#
# util:et
#
directory gnu:k5mac:src:util:et:
for i in `files Å.c` ; ¶
	echo c {i} {krb5macdefines} -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c com_err.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o com_err.c.o
c compile_et.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o compile_et.c.o
c error_message.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o error_message.c.o
c et_name.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o et_name.c.o
c init_et.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o init_et.c.o
#jfm not relevant
#c test_et.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o test_et.c.o
c vfprintf.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o vfprintf.c.o


#
# ::::util:et:libcom_err.a
#
cd gnu:k5mac:src:util:et:
lib -o libcom_err.a com_err.c.o init_et.c.o error_message.c.o et_name.c.o


#
# Notes on hacks to get things to work
# ¥ Our precious mpw C compiler isn't really ansi as far as the libraries are concerned,
#   we're missing <malloc.c>, so I'll create a dump which really includes <stdlib.h> where malloc is
#   defined.  Lame.  Metrowerks doesn't have it either.
#


directory gnu:k5mac:src:lib:krb5
open MakeFile

buildprogram all

# asn.1
directory gnu:k5mac:src:lib:krb5:asn.1
for i in `files Å.c` ; ¶
	echo c {i} {krb5macdefines} -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c asn1_decode.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o asn1_decode.c.o
c asn1_encode.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o asn1_encode.c.o
c asn1_get.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o asn1_get.c.o
c asn1_k_decode.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o asn1_k_decode.c.o
c asn1_k_encode.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o asn1_k_encode.c.o
c asn1_make.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o asn1_make.c.o
c asn1_misc.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o asn1_misc.c.o
c asn1buf.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o asn1buf.c.o
#c glue2.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o glue2.c.o
c krb5_decode.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o krb5_decode.c.o
c krb5_encode.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o krb5_encode.c.o

# ccache
directory gnu:k5mac:src:lib:krb5:ccache
for i in `files Å.c` ; ¶
	echo c {i} {krb5macdefines} -i :stdio: -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c ccbase.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i :stdio: -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ccbase.c.o
c ccdefault.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i :stdio: -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ccdefault.c.o
c ccdefops.c -model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND -i :stdio: -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ccdefops.c.o


# ccache:stdio
# none of this works
directory gnu:k5mac:src:lib:krb5:ccache:stdio
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i : -i :::::include -i :::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c scc_close.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_close.c.o
c scc_defops.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_defops.c.o
c scc_destry.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_destry.c.o
c scc_errs.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_errs.c.o
c scc_eseq.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_eseq.c.o
c scc_gennew.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_gennew.c.o
c scc_getnam.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_getnam.c.o
c scc_gprin.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_gprin.c.o
c scc_init.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_init.c.o
c scc_maybe.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_maybe.c.o
c scc_nseq.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_nseq.c.o
c scc_ops.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_ops.c.o
c scc_read.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_read.c.o
c scc_reslv.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_reslv.c.o
c scc_retrv.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_retrv.c.o
c scc_sflags.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_sflags.c.o
c scc_skip.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_skip.c.o
c scc_sseq.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_sseq.c.o
c scc_store.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_store.c.o
#c scc_test.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_test.c.o
c scc_write.c {krb5macdefines} -i : -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o scc_write.c.o


# ccache:file
# none of this works
directory gnu:k5mac:src:lib:krb5:ccache:file
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i :::::include -i :::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c fcc_close.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_close.c.o
c fcc_defops.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_defops.c.o
c fcc_destry.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_destry.c.o
c fcc_errs.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_errs.c.o
c fcc_eseq.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_eseq.c.o
c fcc_gennew.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_gennew.c.o
c fcc_getnam.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_getnam.c.o
c fcc_gprin.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_gprin.c.o
c fcc_init.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_init.c.o
c fcc_maybe.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_maybe.c.o
c fcc_nseq.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_nseq.c.o
c fcc_ops.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_ops.c.o
c fcc_read.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_read.c.o
c fcc_reslv.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_reslv.c.o
c fcc_retrv.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_retrv.c.o
c fcc_sflags.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_sflags.c.o
c fcc_skip.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_skip.c.o
c fcc_sseq.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_sseq.c.o
c fcc_store.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_store.c.o
#c fcc_test.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_test.c.o
c fcc_write.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fcc_write.c.o



# keytab
# buildprogram all -e
directory gnu:k5mac:src:lib:krb5:keytab
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c ktadd.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktadd.c.o
c ktbase.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktbase.c.o
c ktdefault.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktdefault.c.o
c ktfr_entry.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktfr_entry.c.o
c ktremove.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktremove.c.o
c read_servi.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o read_servi.c.o

# keytab:file
# buildprogram all -e
directory gnu:k5mac:src:lib:krb5:keytab:file
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i :::::include -i :::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c ktf_add.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_add.c.o
c ktf_close.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_close.c.o
c ktf_defops.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_defops.c.o
c ktf_endget.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_endget.c.o
c ktf_g_ent.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_g_ent.c.o
c ktf_g_name.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_g_name.c.o
c ktf_next.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_next.c.o
c ktf_ops.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_ops.c.o
c ktf_remove.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_remove.c.o
c ktf_resolv.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_resolv.c.o
c ktf_ssget.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_ssget.c.o
c ktf_util.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_util.c.o
c ktf_wops.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_wops.c.o
c ktf_wreslv.c {krb5macdefines} -i :::::include -i :::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktf_wreslv.c.o


# krb
#buildprogram all -e
directory gnu:k5mac:src:lib:krb5:krb
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c addr_comp.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o addr_comp.c.o
c addr_order.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o addr_order.c.o
c addr_srch.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o addr_srch.c.o
c auth_con.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o auth_con.c.o
c bld_pr_ext.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o bld_pr_ext.c.o
c bld_princ.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o bld_princ.c.o
c chk_trans.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o chk_trans.c.o
c compat_recv.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o compat_recv.c.o
c conv_princ.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o conv_princ.c.o
c copy_addrs.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o copy_addrs.c.o
c copy_athctr.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o copy_athctr.c.o
c copy_auth.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o copy_auth.c.o
c copy_cksum.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o copy_cksum.c.o
c copy_creds.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o copy_creds.c.o
c copy_data.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o copy_data.c.o
c copy_key.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o copy_key.c.o
c copy_princ.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o copy_princ.c.o
c copy_tick.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o copy_tick.c.o
c cp_key_cnt.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o cp_key_cnt.c.o
c decode_kdc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o decode_kdc.c.o
c decrypt_tk.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o decrypt_tk.c.o
c encode_kdc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o encode_kdc.c.o
c encrypt_tk.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o encrypt_tk.c.o
c free_rtree.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o free_rtree.c.o
c gc_frm_kdc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o gc_frm_kdc.c.o
c gc_via_tkt.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o gc_via_tkt.c.o
c gen_seqnum.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o gen_seqnum.c.o
c gen_subkey.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o gen_subkey.c.o
c get_creds.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o get_creds.c.o
c get_in_tkt.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o get_in_tkt.c.o
c in_tkt_ktb.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o in_tkt_ktb.c.o
c in_tkt_pwd.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o in_tkt_pwd.c.o
c in_tkt_sky.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o in_tkt_sky.c.o
c init_ctx.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o init_ctx.c.o
c kdc_rep_dc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o kdc_rep_dc.c.o
c krbconfig.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o krbconfig.c.o
c mk_cred.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o mk_cred.c.o
c mk_error.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o mk_error.c.o
c mk_priv.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o mk_priv.c.o
c mk_rep.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o mk_rep.c.o
c mk_req.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o mk_req.c.o
c mk_req_ext.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o mk_req_ext.c.o
c mk_safe.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o mk_safe.c.o
c parse.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o parse.c.o
c pr_to_salt.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o pr_to_salt.c.o
c preauth.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o preauth.c.o
c princ_comp.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o princ_comp.c.o
c rd_cred.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rd_cred.c.o
c rd_error.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rd_error.c.o
c rd_priv.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rd_priv.c.o
c rd_rep.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rd_rep.c.o
c rd_req.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rd_req.c.o
c rd_req_dec.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rd_req_dec.c.o
c rd_safe.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rd_safe.c.o
c recvauth.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o recvauth.c.o
c send_tgs.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o send_tgs.c.o
c sendauth.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o sendauth.c.o
c srv_rcache.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o srv_rcache.c.o
#c t_kerb.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o t_kerb.c.o
#c t_walk_rtree.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o t_walk_rtree.c.o
c tgtname.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o tgtname.c.o
c unparse.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o unparse.c.o
c walk_rtree.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o walk_rtree.c.o
beep



#buildprogram all -e
#JFM using a posix open function, need a posix library (Hacked system header for that)
directory gnu:k5mac:src:lib:krb5:rcache
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c rc_base.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rc_base.c.o
c rc_conv.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rc_conv.c.o
c rc_dfl.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rc_dfl.c.o
c rc_io.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rc_io.c.o
c rcdef.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rcdef.c.o

#buildprogram all -e
directory gnu:k5mac:src:lib:krb5:free
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c f_addr.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_addr.c.o
c f_address.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_address.c.o
c f_ap_rep.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_ap_rep.c.o
c f_ap_req.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_ap_req.c.o
c f_arep_enc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_arep_enc.c.o
c f_auth_cnt.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_auth_cnt.c.o
c f_authdata.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_authdata.c.o
c f_authent.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_authent.c.o
c f_chksum.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_chksum.c.o
c f_cred.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_cred.c.o
c f_cred_cnt.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_cred_cnt.c.o
c f_cred_enc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_cred_enc.c.o
c f_creds.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_creds.c.o
c f_enc_kdc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_enc_kdc.c.o
c f_enc_tkt.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_enc_tkt.c.o
c f_error.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_error.c.o
c f_kdc_rp.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_kdc_rp.c.o
c f_kdc_rq.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_kdc_rq.c.o
c f_keyblock.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_keyblock.c.o
c f_last_req.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_last_req.c.o
c f_padata.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_padata.c.o
c f_princ.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_princ.c.o
c f_priv.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_priv.c.o
c f_priv_enc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_priv_enc.c.o
c f_pwd_data.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_pwd_data.c.o
c f_pwd_seq.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_pwd_seq.c.o
c f_safe.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_safe.c.o
c f_tckt.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_tckt.c.o
c f_tckts.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_tckts.c.o
c f_tgt_cred.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_tgt_cred.c.o
c f_tkt_auth.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_tkt_auth.c.o


#JFM using a posix open function, need a posix library to continue
#buildprogram all -e
directory gnu:k5mac:src:lib:krb5:os
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c an_to_ln.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o an_to_ln.c.o
c ccdefname.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ccdefname.c.o
c def_realm.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o def_realm.c.o
c DNR.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o DNR.c.o
c free_hstrl.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o free_hstrl.c.o
c free_krbhs.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o free_krbhs.c.o
c full_ipadr.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o full_ipadr.c.o
c gen_port.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o gen_port.c.o
c gen_rname.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o gen_rname.c.o
c genaddrs.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o genaddrs.c.o
c get_krbhst.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o get_krbhst.c.o
c gmt_mktime.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o gmt_mktime.c.o
c hst_realm.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o hst_realm.c.o
c init_os_ctx.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o init_os_ctx.c.o
c krbfileio.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o krbfileio.c.o
c ktdefname.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ktdefname.c.o
c kuserok.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o kuserok.c.o
c localaddr.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o localaddr.c.o
c locate_kdc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o locate_kdc.c.o
c lock_file.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o lock_file.c.o
c macsock.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o macsock.c.o
c mk_faddr.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o mk_faddr.c.o
c net_read.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o net_read.c.o
c net_write.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o net_write.c.o
c osconfig.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o osconfig.c.o
c port2ip.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o port2ip.c.o
c read_msg.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o read_msg.c.o
c read_pwd.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o read_pwd.c.o
c realm_dom.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o realm_dom.c.o
c sendto_kdc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o sendto_kdc.c.o
c sn2princ.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o sn2princ.c.o
#c t_an_to_ln.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o t_an_to_ln.c.o
#c t_std_conf.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o t_std_conf.c.o
c timeofday.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o timeofday.c.o
c unlck_file.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o unlck_file.c.o
c ustime.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o ustime.c.o
c write_msg.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o write_msg.c.o


#
# Posix compatibility library
#
directory gnu:k5mac:src:lib:krb5:posix
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

#c daemon.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o daemon.c.o
c getuid.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o getuid.c.o
c memmove.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o memmove.c.o
c strcasecmp.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o strcasecmp.c.o
c strdup.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o strdup.c.o
c strerror.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o strerror.c.o
c syslog.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o syslog.c.o
#c vfprintf.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o vfprintf.c.o
#c vsprintf.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o vsprintf.c.o


#
# error tables
#
directory gnu:k5mac:src:lib:krb5:error_tables
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c adm_err.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o adm_err.c.o
c asn1_err.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o asn1_err.c.o
c init_ets.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o init_ets.c.o
c kdb5_err.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o kdb5_err.c.o
c krb5_err.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o krb5_err.c.o
c kv5m_err.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o kv5m_err.c.o

#
# profile
#
directory gnu:k5mac:src:util:profile
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i : -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c prof_err.c {krb5macdefines} -i : -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o prof_err.c.o
c prof_file.c {krb5macdefines} -i : -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o prof_file.c.o
c prof_init.c {krb5macdefines} -i : -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o prof_init.c.o
c prof_parse.c {krb5macdefines} -i : -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o prof_parse.c.o
c prof_section.c {krb5macdefines} -i : -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o prof_section.c.o
c prof_tree.c {krb5macdefines} -i : -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o prof_tree.c.o
#c test_parse.c {krb5macdefines} -i : -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o test_parse.c.o
#c test_profile.c {krb5macdefines} -i : -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o test_profile.c.o

#
# Build the libkrb5.a
#
cd gnu:k5mac:src:lib:
delete libkrb5.a
lib -o libkrb5.a ¶
	::util:profile:prof_err.c.o ¶
	::util:profile:prof_file.c.o ¶
	::util:profile:prof_init.c.o ¶
	::util:profile:prof_parse.c.o ¶
	::util:profile:prof_section.c.o ¶
	::util:profile:prof_tree.c.o ¶
	`files :krb5:ccache:stdio:Å.o` ¶
	`files :krb5:os:Å.o` ¶
	`files :krb5:rcache:Å.o` ¶
	`files :krb5:free:Å.o` ¶
	`files :krb5:error_tables:Å.o` ¶
	`files :krb5:asn.1:Å.o` ¶
	`files :krb5:ccache:Å.o` ¶
	`files :krb5:ccache:file:Å.o` ¶
	`files :krb5:keytab:Å.o` ¶
	`files :krb5:keytab:file:Å.o` ¶
	:krb5:krb:addr_comp.c.o ¶
	:krb5:krb:addr_order.c.o ¶
	:krb5:krb:addr_srch.c.o ¶
	:krb5:krb:auth_con.c.o ¶
	:krb5:krb:bld_pr_ext.c.o ¶
	:krb5:krb:bld_princ.c.o ¶
	:krb5:krb:chk_trans.c.o ¶
	:krb5:krb:compat_recv.c.o ¶
	:krb5:krb:conv_princ.c.o ¶
	:krb5:krb:copy_addrs.c.o ¶
	:krb5:krb:copy_athctr.c.o ¶
	:krb5:krb:copy_auth.c.o ¶
	:krb5:krb:copy_cksum.c.o ¶
	:krb5:krb:copy_creds.c.o ¶
	:krb5:krb:copy_data.c.o ¶
	:krb5:krb:copy_key.c.o ¶
	:krb5:krb:copy_princ.c.o ¶
	:krb5:krb:copy_tick.c.o ¶
	:krb5:krb:cp_key_cnt.c.o ¶
	:krb5:krb:decode_kdc.c.o ¶
	:krb5:krb:decrypt_tk.c.o ¶
	:krb5:krb:encode_kdc.c.o ¶
	:krb5:krb:encrypt_tk.c.o ¶
	:krb5:krb:free_rtree.c.o ¶
	:krb5:krb:gc_frm_kdc.c.o ¶
	:krb5:krb:gc_via_tkt.c.o ¶
	:krb5:krb:gen_seqnum.c.o ¶
	:krb5:krb:gen_subkey.c.o ¶
	:krb5:krb:get_creds.c.o ¶
	:krb5:krb:get_in_tkt.c.o ¶
	:krb5:krb:in_tkt_ktb.c.o ¶
	:krb5:krb:in_tkt_pwd.c.o ¶
	:krb5:krb:in_tkt_sky.c.o ¶
	:krb5:krb:init_ctx.c.o ¶
	:krb5:krb:kdc_rep_dc.c.o ¶
	:krb5:krb:krbconfig.c.o ¶
	:krb5:krb:mk_cred.c.o ¶
	:krb5:krb:mk_error.c.o ¶
	:krb5:krb:mk_priv.c.o ¶
	:krb5:krb:mk_rep.c.o ¶
	:krb5:krb:mk_req.c.o ¶
	:krb5:krb:mk_req_ext.c.o ¶
	:krb5:krb:mk_safe.c.o ¶
	:krb5:krb:parse.c.o ¶
	:krb5:krb:pr_to_salt.c.o ¶
	:krb5:krb:preauth.c.o ¶
	:krb5:krb:princ_comp.c.o ¶
	:krb5:krb:rd_cred.c.o ¶
	:krb5:krb:rd_error.c.o ¶
	:krb5:krb:rd_priv.c.o ¶
	:krb5:krb:rd_rep.c.o ¶
	:krb5:krb:rd_req.c.o ¶
	:krb5:krb:rd_req_dec.c.o ¶
	:krb5:krb:rd_safe.c.o ¶
	:krb5:krb:recvauth.c.o ¶
	:krb5:krb:send_tgs.c.o ¶
	:krb5:krb:sendauth.c.o ¶
	:krb5:krb:srv_rcache.c.o ¶
	:krb5:krb:tgtname.c.o ¶
	:krb5:krb:unparse.c.o ¶
	:krb5:krb:walk_rtree.c.o ¶
	:krb5:posix:getuid.c.o ¶
	:krb5:posix:strcasecmp.c.o ¶
	:krb5:posix:strdup.c.o ¶
	:krb5:posix:syslog.c.o


#
# crypto
#
directory gnu:k5mac:src:lib:crypto
delete Å.c.o
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i :des -i :md5 -i :md4 -i :crc32 -i :::include -i :::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c cryptoconf.c {krb5macdefines} -i :des -i :md5 -i :md4 -i :crc32 -i :::include -i :::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o cryptoconf.c.o
c des_crc.c {krb5macdefines} -i :des -i :md5 -i :md4 -i :crc32 -i :::include -i :::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o des_crc.c.o
c des_md5.c {krb5macdefines} -i :des -i :md5 -i :md4 -i :crc32 -i :::include -i :::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o des_md5.c.o
c raw_des.c {krb5macdefines} -i :des -i :md5 -i :md4 -i :crc32 -i :::include -i :::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o raw_des.c.o

#
# crc32
#
directory gnu:k5mac:src:lib:crypto:crc32:
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c crc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o crc.c.o
c crctest.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o crctest.c.o

#
# des
#
directory gnu:k5mac:src:lib:crypto:des:
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c cbc_cksum.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o cbc_cksum.c.o
c cs_entry.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o cs_entry.c.o
c destest.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o destest.c.o
c f_cbc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_cbc.c.o
c f_cksum.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_cksum.c.o
c f_ecb.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_ecb.c.o
c f_parity.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_parity.c.o
c f_pcbc.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_pcbc.c.o
c f_sched.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_sched.c.o
c f_tables.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o f_tables.c.o
c fin_rndkey.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o fin_rndkey.c.o
c finish_key.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o finish_key.c.o
c init_rkey.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o init_rkey.c.o
c key_sched.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o key_sched.c.o
c new_rn_key.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o new_rn_key.c.o
c process_ky.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o process_ky.c.o
c random_key.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o random_key.c.o
c string2key.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o string2key.c.o
c verify.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o verify.c.o
c weak_key.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o weak_key.c.o


#
# md4
#
directory gnu:k5mac:src:lib:crypto:md4:
delete Å.o
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::des -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c md4.c {krb5macdefines} -i ::des -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o md4.c.o
c md4crypto.c {krb5macdefines} -i ::des -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o md4crypto.c.o
c md4driver.c {krb5macdefines} -i ::des -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o md4driver.c.o
c md4glue.c {krb5macdefines} -i ::des -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o md4glue.c.o

#
# md5 stuff
#
directory gnu:k5mac:src:lib:crypto:md5:
delete Å.o
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::des: -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c md5.c {krb5macdefines} -i ::des: -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o md5.c.o
c md5crypto.c {krb5macdefines} -i ::des: -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o md5crypto.c.o
c md5glue.c {krb5macdefines} -i ::des: -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o md5glue.c.o
c t_mddriver.c {krb5macdefines} -i ::des: -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o t_mddriver.c.o

#
# os, done
#
directory gnu:k5mac:src:lib:crypto:os:
delete Å.o
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i ::::include -i ::::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c rnd_confoun.c {krb5macdefines} -i ::::include -i ::::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o rnd_confoun.c.o

#
# libcrypto
#
cd gnu:k5mac:src:lib:
lib -o libcrypto.a ¶
	`files :crypto:Å.o` ¶
	:crypto:crc32:crc.c.o ¶
	:crypto:des:cbc_cksum.c.o ¶
	:crypto:des:weak_key.c.o ¶
	:crypto:des:cs_entry.c.o ¶
	:crypto:des:f_cbc.c.o ¶
	:crypto:des:f_cksum.c.o ¶
	:crypto:des:f_ecb.c.o ¶
	:crypto:des:f_pcbc.c.o ¶
	:crypto:des:f_sched.c.o ¶
	:crypto:des:f_tables.c.o ¶
	:crypto:des:f_parity.c.o ¶
	:crypto:des:fin_rndkey.c.o ¶
	:crypto:des:finish_key.c.o ¶
	:crypto:des:init_rkey.c.o ¶
	:crypto:des:key_sched.c.o ¶
	:crypto:des:process_ky.c.o ¶
	:crypto:des:random_key.c.o ¶
	:crypto:des:new_rn_key.c.o ¶
	:crypto:des:string2key.c.o ¶
	:crypto:md4:md4.c.o ¶
	:crypto:md4:md4crypto.c.o ¶
	:crypto:md4:md4glue.c.o ¶
	:crypto:md5:md5.c.o ¶
	:crypto:md5:md5crypto.c.o ¶
	:crypto:md5:md5glue.c.o ¶
	`files :crypto:os:Å.o`

==========================================
# Error code compiler
# for the ".et" files
# punt on building the error compiler
#cd gnu:k5mac:src:util:et:
#files


==========================================
# kinit compilation
#
set krb5macdefines "-model far -d _MACINTOSH -d SIZEOF_INT=4 -d SIZEOF_SHORT=2 -d HAVE_SRAND"
cd gnu:k5mac:src:clients:kinit:
delete Å.o
for i in `files Å.c` ; ¶
	echo c {i} '{krb5macdefines}' -i :::include -i :::include:krb5 -i {CIncludes} -o {i}.o ;¶
end

c getopt.c {krb5macdefines} -i :::include -i :::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o getopt.c.o
c kinit.c {krb5macdefines} -i :::include -i :::include:krb5 -i gnu:MPW:Interfaces:CIncludes: -o kinit.c.o
Link     -model far -t MPST -c "MPS " -sym on ¶
	:::lib:libkrb5.a :::lib:libcrypto.a :::util:et:libcom_err.a ¶
	{CLibraries}"StdClib."o	¶
	{Libraries}"Runtime."o¶
	{Libraries}"Interface."o¶
	-o kinit  kinit.c.o getopt.c.o

kinit mattly


Sun May 28 15:58:15 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* srv_main.c (main): Use exit instead of return from
		main. Otherwise may return to a signal interrupt on
		shutdown. 
		On shutdown - do not output message as stdout may
		be closed on receivers end. 

Fri May 26 17:50:13 EDT 1995	Paul Park	(pjpark@mit.edu)
	* Makefile.in	- Add KDBLIB to dependency list.


Mon May 22 09:46:53 EDT 1995	Paul Park	(pjpark@mit.edu)
	* Makefile.in	- Install kadmind5 in $(SERVER_BINDIR), install
			  manpage in $(SERVER_MANDIR).
	* kadmind5.M	- Change section to section 8.


Tue May 16 10:31:12 EDT 1995	Paul Park	(pjpark@mit.edu)
	* proto_serv.c	- Don't destroy the replay cache when done.


Fri May 12 16:06:24 EDT 1995	Paul Park	(pjpark@mit.edu)
	* admin.c	- Change for Ultrix: howmany->how_many because howmany
			  is a macro used to count how many elements in an
			  array.
	* kadm5_defs.h, srv_net.c
			- Use DEBUG_NOSLAVES to determine when to create a
			  new slave for handling connections.  Also, change
			  max slaves to 2*SOMAXCONN and reduce sleep wait to
			  2 seconds.
	* configure.in, proto_serv.c, srv_acl.c, srv_main.c, srv_net.c
			- Use POSIX signals/setjmp/longjmp when present.


Thu May 11 12:20:58 EDT 1995	Paul Park	(pjpark@mit.edu)
	* srv_key.c	- Defer setting keyb and encb init flags until we
			  have successfully verified the master key.  Avoids
			  a core dump if we don't enter it correctly.
	* srv_net.c	- Set SO_REUSEADDR on the socket if we're not binding
			  to the standard port.  Also remove logic which
			  retried bind if bind failed.

Sat May 9 17:46:31 1995  Ezra Peisach  <epeisach@kangaroo.mit.edu>

	* srv_output.c (lang_error_message): Local variable is assigned
		from error_message() which returns a const char *. Should
		be assigned to same.

	* srv_acl.c: Added const to acl_acl_file
		definition. default_acl_file is a const char * and gets
		assigned to it.

Tue May 9 15:29:10 EDT 1995	Paul Park	(pjpark@mit.edu)
	Add new administrative protocol support functions and fix bugs.
	* kadm5_defs.h	- Add extract operation.  Move error subcodes
			  to adm.h.  Update prototypes.
	* kadmind5.M	- Add descriptions of -n, -p and -T options.  Change
			  name of -i to -m option.  Add description of
			  'e' acl entry.
	* passwd.c	- Make passwd_check_npass_ok a global routine.
	* proto_serv.c	- Use keytab supplied with -T option.  Support
			  new administrative protocol functions.  Destroy
			  replay cache when done with request.
	* srv_acl.c	- Add catchall entry which allows principals to
			  change their own passwords.  This is the last entry
			  inserted and can be overridden with an entry in
			  the ACL file.  By default, we now deny operations
			  unless there is an entry.
	* srv_key.c	- Use keytab supplied with -T option.  Actually set
			  the default realm to be the specified realm.  Return
			  salt values from key_string_to_keys().  Add random
			  key generator.
	* srv_main.c	- Add support for -T option.  Change -i to -m.  Add
			  daemon() call if -n option is not specified.  Add
			  support for -p option.
	* srv_net.c	- Close connected socket in parent.  This was causing
			  the connection to remain open even when the child
			  was finished with it.  Add support for -p option.
			  Determine our port otherwise from the profile, and
			  then the /etc/services entry.
	* srv_output.c	- Add support for new error codes.

Fri May 5 11:11:39 EDT 1995	Paul Park	(pjpark@mit.edu)
	#ifdef out language flags.  Remove description from manpage.


Fri Apr 28 17:58:11 EDT 1995	Paul Park	(pjpark@mit.edu)

	* proto_serv.c	- ifdef-out commands which are not fully supported.


Fri Apr 28 17:38:36 EDT 1995	Paul Park	(pjpark@mit.edu)

	* srv_net.c, proto_serv.c - re-include <signal.h> for signal name
		definitions.  Removal of them was over-zealous.

Fri Apr 28 16:38:18 EDT 1995	Paul Park	(pjpark@mit.edu)
	* srv_output.c	- slight cleanup to allow output_lang_supported()
			  to function correctly.


Fri Apr 28 10:13:21 EDT 1995	Paul Park	(pjpark@mit.edu)
	Add new library libkadm. 
	* configure.in	- Check for presence of vsprintf.
	* passwd.c	- Use size_t for sizes.
	* proto_serv.c	- Allow for case-insensitivity of commands.
			- Remove socket-dependent includes and add NEED_SOCKETS
	* srv_key.c	- Use size_t for sizes.
	* srv_main.c	- Check for presence of vsprintf.
	* srv_net.c	- Remove socket-dependent includes and add NEED_SOCKETS
			- Use size_t for sizes.
			- Return success if bind succeeds.
	* srv_output.c	- Add language name recoginition.

Fri Apr 28 13:06:18 1995  Theodore Y. Ts'o  <tytso@dcl>

	* srv_net.c: Linux doesn't have SOMAXCONN, assume 5 if not defined.

Fri Apr 28 07:32:55 1995  Theodore Y. Ts'o  <tytso@lurch.mit.edu>

	* configure.in: Add check for -ldbm and -lndbm.

Thu Apr 27 17:05:54 EDT 1995	Paul Park	(pjpark@mit.edu)

	Update last_pwd_change, mod_name and kvno when changing password
	successfully.

Wed Apr 26 16:00:00 EDT 1995	Paul Park	(pjpark@mit.edu)

	Add new administrative protocol server which only responds to
	password requests for now.

